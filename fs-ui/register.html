<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="action_page.php" id="fom">
        <div class="container">
          <h1>Register</h1>
          <p>Please fill in this form to create an account.</p>
          <hr>
      
          <label for="email"><b>Email</b></label>
          <input type="text" placeholder="Enter Email" id="email" required>
      <hr>
          <label for="first"><b>first name</b></label>
          <input type="text" placeholder="Enter first name" id="first" required>

          <label for="last"><b>last name</b></label>
          <input type="text" placeholder="Enter last name" id="last" required>
         
     <hr>
          <label for="psw"><b>Password</b></label>
          <input type="password" placeholder="Enter Password" id="psw" required>

    <hr>
    <h3> address </h3>
          <label for="house"><b>house</b></label>
          <input type="text" placeholder="Enter house name" id="house" required>

          <label for="colony"><b>colony</b></label>
          <input type="text" placeholder="Enter colony name" id="colony" required>
          <br>
          <br>
          <label for="area"><b>area</b></label>
          <input type="text" placeholder="Enter area name" id="area" required>

          <label for="city"><b>city</b></label>
          <input type="text" placeholder="Enter city name" id="city" required>

         <br>
         <br>
          <label for="district"><b>district</b></label>
          <input type="text" placeholder="Enter district name" id="district" required>

          <label for="state"><b>state</b></label>
          <input type="text" placeholder="Enter state name" id="state" required>
          
          <br>
          <br>
          <label for="country"><b>country</b></label>
          <input type="text" placeholder="Enter country name" id="country" required>

    <hr>
    <h3> contact </h3>
    <label for="mobile"><b>mobile no.</b></label>
    <input type="text" placeholder="Enter mobile number" id="mobile" required>
    
     <hr>   
          <button type="submit" id="registerbtn">Register</button>
</div>

        <a id="pic" href="/uploadDp.html">upload picture</a>
      
        <div class="container signin">
          <p>Already have an account? <a href="/user profile.html">Sign in</a>.</p>
        </div>
      </form>    
</body>


<script>
let button= document.getElementById("fom");
document.getElementById("pic").style.display="none";
button.onsubmit=()=>{
    let register={
        email: document.getElementById("email").value,
        password:document.getElementById("psw").value,
        firstName:document.getElementById("first").value,
        lastName:document.getElementById("last").value,
        mobileNo:document.getElementById("mobile").value,
        address:{
            houseNo:document.getElementById("house").value,
            colonyName:document.getElementById("colony").value,
            area:document.getElementById("area").value,
            city:document.getElementById("city").value,
            district:document.getElementById("district").value,
            state:document.getElementById("state").value,
            country:document.getElementById("country").value
        }

        }
    event.preventDefault();
   
    console.log(JSON.stringify(register));
    
    // main.js

// POST request using fetch()
fetch("http://fact1-env.eba-fdyeurck.ap-south-1.elasticbeanstalk.com/api/signUp/saveNewUser", {
	
	// Adding method type
	method: "POST",
	
	// Adding body or contents to send
	body: JSON.stringify(register),
	
	// Adding headers to the request
	headers: {
		"Content-type": "application/json; charset=UTF-8"
	}
})

// Converting to JSON
.then(response => response.json())

// Displaying results to console
.then(json => console.log(json));


   document.getElementById("registerbtn").disabled=true;
   document.getElementById("pic").style.display="block";

}

    
      
    
</script>


</html>